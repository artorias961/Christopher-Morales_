<template>
  <section id="experience" class="bg-[#ebebeb] relative pt-0 mt-0 pb-16" ref="experienceSection">
    <div class="relative">
      <div class="px-6 mx-auto max-w-6xl lg:px-8">
        <div class="flex flex-col md:flex-row md:items-start py-10">
          <!-- Heading on the left -->
          <div class="md:w-1/3 mb-8 md:mb-0">
            <p
              class="font-inter text-[25px] md:text-[45px] font-semibold text-[#030303] md:sticky md:top-8"
            >
              my experience
            </p>
          </div>

          <!-- Experience timeline on the right -->
          <div class="md:w-2/3 mt-16">
            <!-- Experience 1 -->
            <div class="mb-10 experience-item" ref="expItem1">
              <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-semibold text-[#030303]">Co-founder at Orbityr</h3>
                <span class="text-sm text-[#030303] font-light">Jun 2025 - Present</span>
              </div>

              <p class="text-[#030303] mb-6">
                Building an AI-powered platform that helps businesses decide where to place their
                assets! Currently in the HKSTP ideation program, working on our MVP.
              </p>

              <div
                class="h-[2px] bg-gradient-to-r from-transparent via-[#FF0000] to-transparent w-full mt-6"
              ></div>
            </div>

            <!-- Experience 2 -->
            <div class="mb-10 experience-item" ref="expItem1">
              <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-semibold text-[#030303]">
                  Gen AI Software Developer at Career Hackers
                </h3>
                <span class="text-sm text-[#030303] font-light">Jun 2025 - Aug 2025</span>
              </div>

              <p class="text-[#030303] mb-6">
                Designing and developing features for an AI interview platform.
              </p>

              <div
                class="h-[2px] bg-gradient-to-r from-transparent via-[#FF0000] to-transparent w-full mt-6"
              ></div>
            </div>

            <!-- Experience 3 -->
            <div class="mb-10 experience-item" ref="expItem1">
              <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-semibold text-[#030303]">QA Automation Intern at GoGoX</h3>
                <span class="text-sm text-[#030303] font-light">Sep 2024 - Dec 2024</span>
              </div>

              <p class="text-[#030303] mb-6">
                Explored ways to optimise the testing process through means like parallel processing
                and cloud-based virtual devices.
              </p>

              <div
                class="h-[2px] bg-gradient-to-r from-transparent via-[#FF0000] to-transparent w-full mt-6"
              ></div>
            </div>

            <!-- Experience 4 -->
            <div class="mb-10 experience-item" ref="expItem2">
              <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-semibold text-[#030303]">
                  Quality Assurance Intern at GoGoX
                </h3>
                <span class="text-sm text-[#030303] font-light">Jun 2024 - Aug 2024</span>
              </div>

              <p class="text-[#030303] mb-6">
                Automated the sanity and regression test suite of the client app.
              </p>

              <div
                class="h-[2px] bg-gradient-to-r from-transparent via-[#FF0000] to-transparent w-full mt-6"
              ></div>
            </div>

            <!-- Experience 5 -->
            <div class="mb-10 experience-item" ref="expItem3">
              <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-semibold text-[#030303]">
                  UI/UX Designer at PolyU Smart Cities Research Institute
                </h3>
                <span class="text-sm text-[#030303] font-light">Feb 2024 - May 2024</span>
              </div>

              <p class="text-[#030303] mb-6">
                Designed and developed user interfaces for the software QC Spatial-3Dx, focusing on
                accessibility and user experience.
              </p>

              <div
                class="h-[2px] bg-gradient-to-r from-transparent via-[#FF0000] to-transparent w-full mt-6"
              ></div>
            </div>

            <!-- Experience 6 -->
            <div class="mb-10 experience-item" ref="expItem4">
              <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-semibold text-[#030303]">
                  Web Developer Intern at Oxbridge Economics
                </h3>
                <span class="text-sm text-[#030303] font-light">Jun 2023 - Aug 2023</span>
              </div>

              <p class="text-[#030303] mb-6">
                Developed and maintained web applications, focusing on user experience and
                performance optimization.
              </p>

              <div
                class="h-[2px] bg-gradient-to-r from-transparent via-[#FF0000] to-transparent w-full mt-6"
              ></div>
            </div>

            <!-- Experience 7 -->
            <div class="mb-10 experience-item" ref="expItem5">
              <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-semibold text-[#030303]">Student Assistant at CLP</h3>
                <span class="text-sm text-[#030303] font-light">Feb 2023 - Apr 2023</span>
              </div>

              <p class="text-[#030303] mb-6">
                Assisted in testing and quality assurance efforts for the CLP Generator Inspection
                Robot.
              </p>

              <div
                class="h-[2px] bg-gradient-to-r from-transparent via-[#FF0000] to-transparent w-full mt-6"
              ></div>
            </div>

            <!-- Experience 8 -->
            <div class="mb-10 experience-item" ref="expItem6">
              <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-semibold text-[#030303]">
                  Digital Media Creator at AInspire
                </h3>
                <span class="text-sm text-[#030303] font-light">Apr 2021 - May 2022</span>
              </div>

              <p class="text-[#030303] mb-6">
                Created engaging digital content to increase brand awareness and engagement.
              </p>

              <div
                class="h-[2px] bg-gradient-to-r from-transparent via-[#FF0000] to-transparent w-full mt-6"
              ></div>
            </div>

            <!-- Experience 9 -->
            <div class="mb-10 experience-item" ref="expItem6">
              <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-semibold text-[#030303]">Web Developer at Auxiliors</h3>
                <span class="text-sm text-[#030303] font-light">May 2021 - Aug 2022</span>
              </div>

              <p class="text-[#030303] mb-6">
                Lead sessions on self-confidence and worked on the website development
              </p>

              <div
                class="h-[2px] bg-gradient-to-r from-transparent via-[#FF0000] to-transparent w-full mt-6"
              ></div>
            </div>

            <!-- Experience 10 -->
            <div class="mb-10 experience-item" ref="expItem6">
              <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-semibold text-[#030303]">
                  Web Developer at Sleep Deprived Dreamers
                </h3>
                <span class="text-sm text-[#030303] font-light">Jun 2021 - Jul 2022</span>
              </div>

              <p class="text-[#030303] mb-6">
                Got to work under my favorite youtuber to design and build a website for his
                startup.
              </p>

              <div
                class="h-[2px] bg-gradient-to-r from-transparent via-[#FF0000] to-transparent w-full mt-6"
              ></div>
            </div>

            <!-- Experience 11 -->
            <div class="mb-10 experience-item" ref="expItem6">
              <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-semibold text-[#030303]">Web Developer at Flipbill</h3>
                <span class="text-sm text-[#030303] font-light">Mar 2021 - Apr 2022</span>
              </div>

              <p class="text-[#030303] mb-6">
                Designed and developed the company website in 2 weeks.
              </p>

              <div
                class="h-[2px] bg-gradient-to-r from-transparent via-[#FF0000] to-transparent w-full mt-6"
              ></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</template>

<script setup>
import { ref, onMounted } from 'vue'

// Create refs for all experience items
const experienceSection = ref(null)
const expItem1 = ref(null)
const expItem2 = ref(null)
const expItem3 = ref(null)
const expItem4 = ref(null)
const expItem5 = ref(null)
const expItem6 = ref(null)

onMounted(() => {
  // Get all experience items as an array
  const expItems = [
    expItem1.value,
    expItem2.value,
    expItem3.value,
    expItem4.value,
    expItem5.value,
    expItem6.value,
  ]

  // Apply initial styles
  expItems.forEach((item) => {
    if (item) {
      item.style.opacity = '0'
      item.style.transform = 'translateY(30px)'
      item.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out'
    }
  })

  // Set up Intersection Observer for each item
  const observerOptions = {
    root: null, // viewport is the root
    rootMargin: '0px',
    threshold: 0.1, // 10% of the item needs to be visible
  }

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        // When the item comes into view, make it visible
        entry.target.style.opacity = '1'
        entry.target.style.transform = 'translateY(0)'

        // Stop observing after animation is triggered
        observer.unobserve(entry.target)
      }
    })
  }, observerOptions)

  // Start observing each item
  expItems.forEach((item) => {
    if (item) {
      observer.observe(item)
    }
  })
})
</script>

<style scoped>
.experience-item {
  /* Add a small delay to each subsequent item for cascade effect */
  &:nth-child(1) {
    transition-delay: 0s;
  }
  &:nth-child(2) {
    transition-delay: 0.2s;
  }
  &:nth-child(3) {
    transition-delay: 0.4s;
  }
  &:nth-child(4) {
    transition-delay: 0.6s;
  }
  &:nth-child(5) {
    transition-delay: 0.8s;
  }
  &:nth-child(6) {
    transition-delay: 1s;
  }
}
</style>
